"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[233],{27496:function(z,f,e){e.d(f,{Z:function(){return l}});var g=e(1413),C=e(67294),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},c=A,P=e(91146),h=function(O,E){return C.createElement(P.Z,(0,g.Z)((0,g.Z)({},O),{},{ref:E,icon:c}))},T=C.forwardRef(h),l=T},7464:function(z,f,e){e.r(f);var g=e(19632),C=e.n(g),A=e(15009),c=e.n(A),P=e(99289),h=e.n(P),T=e(5574),l=e.n(T),R=e(59955),O=e(27496),E=e(60801),N=e(78301),d=e(2453),b=e(36039),v=e(78957),m=e(77683),J=e(33900),o=e(67294),n=e(85893),H=E.Z.TextArea,Q=N.Z.Text,V=function(){var $=(0,o.useState)(""),B=l()($,2),i=B[0],D=B[1],Y=(0,o.useState)(""),U=l()(Y,2),X=U[0],M=U[1],q=(0,o.useState)(!1),L=l()(q,2),ee=L[0],K=L[1],ne=(0,o.useState)([]),W=l()(ne,2),p=W[0],S=W[1],ae=(0,o.useState)(!1),F=l()(ae,2),ue=F[0],j=F[1],se=(0,o.useState)(""),x=l()(se,2),y=x[0],te=x[1],re=(0,o.useState)(""),k=l()(re,2),I=k[0],w=k[1],Z=R.S.getInstance();(0,o.useEffect)(function(){var a=function(){var u=h()(c()().mark(function s(){var _;return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Z.connect();case 3:_=localStorage.getItem("savedAtCommands"),_&&S(JSON.parse(_)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),r.t0.message==="REQUIRE_AUTH_KEY"?console.log("AT/Terminal: \u7B49\u5F85\u5BC6\u94A5\u8BA4\u8BC1..."):console.error("\u8FDE\u63A5\u5931\u8D25:",r.t0);case 10:case"end":return r.stop()}},s,null,[[0,7]])}));return function(){return u.apply(this,arguments)}}();return a(),function(){Z.disconnect()}},[]);var G=function(){var a=h()(c()().mark(function u(){var s;return c()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i.trim()){t.next=3;break}return d.ZP.warning("\u8BF7\u8F93\u5165AT\u6307\u4EE4"),t.abrupt("return");case 3:return t.prev=3,K(!0),t.next=7,Z.sendCommand(i);case 7:s=t.sent,s.success?M(function(r){return"".concat(r,`
> `).concat(i,`
`).concat(s.data||"")}):M(function(r){return"".concat(r,`
> `).concat(i,`
Error: `).concat(s.error||"\u672A\u77E5\u9519\u8BEF")}),D(""),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),d.ZP.error("\u53D1\u9001\u6307\u4EE4\u5931\u8D25");case 15:return t.prev=15,K(!1),t.finish(15);case 18:case"end":return t.stop()}},u,null,[[3,12,15,18]])}));return function(){return a.apply(this,arguments)}}(),le=function(){M("")},oe=function(){if(!i.trim()){d.ZP.warning("\u8BF7\u8F93\u5165\u8981\u4FDD\u5B58\u7684AT\u6307\u4EE4");return}te(i),w(""),j(!0)},_e=function(){if(!I.trim()){d.ZP.warning("\u8BF7\u8F93\u5165\u547D\u4EE4\u5907\u6CE8");return}var u={command:y,remark:I},s=C()(p);s.some(function(_){return _.command===y})?d.ZP.warning("\u8BE5\u547D\u4EE4\u5DF2\u5B58\u5728"):(s.push(u),S(s),localStorage.setItem("savedAtCommands",JSON.stringify(s)),d.ZP.success("\u547D\u4EE4\u5DF2\u4FDD\u5B58")),j(!1)},de=function(u){var s=p.filter(function(_){return _.command!==u});S(s),localStorage.setItem("savedAtCommands",JSON.stringify(s)),d.ZP.success("\u547D\u4EE4\u5DF2\u5220\u9664")},me=[{label:"\u67E5\u8BE2\u4FE1\u53F7\u5F3A\u5EA6",command:"AT^HCSQ?"},{label:"\u67E5\u8BE2IMEI",command:"AT+CGSN"},{label:"\u67E5\u8BE2\u7248\u672C",command:"ATI"},{label:"\u67E5\u8BE2SIM\u5361\u72B6\u6001",command:"AT+CPIN?"},{label:"\u67E5\u8BE2\u7F51\u7EDC\u6CE8\u518C",command:"AT+CREG?"},{label:"\u67E5\u8BE2\u57FA\u7AD9\u4FE1\u606F",command:"AT+CGREG?"},{label:"\u67E5\u8BE2\u7F51\u7EDC\u65F6\u95F4",command:"AT^NWTIME?"}];return(0,n.jsxs)(b.Z,{title:"AT\u8C03\u8BD5\u7EC8\u7AEF",children:[(0,n.jsxs)(v.Z,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,n.jsx)(H,{value:X,style:{height:"300px",marginBottom:"16px",backgroundColor:"#f5f5f5"},readOnly:!0}),(0,n.jsxs)(v.Z.Compact,{style:{width:"100%"},children:[(0,n.jsx)(E.Z,{value:i,onChange:function(u){return D(u.target.value)},onPressEnter:G,placeholder:"\u8F93\u5165AT\u6307\u4EE4",style:{flex:1}}),(0,n.jsx)(m.ZP,{type:"primary",onClick:G,loading:ee,icon:(0,n.jsx)(O.Z,{}),children:"\u53D1\u9001"}),(0,n.jsx)(m.ZP,{onClick:le,children:"\u6E05\u7A7A"}),(0,n.jsx)(m.ZP,{onClick:oe,children:"\u4FDD\u5B58\u547D\u4EE4"})]}),(0,n.jsx)(b.Z,{size:"small",title:"\u5E38\u7528\u547D\u4EE4",style:{marginTop:"16px"},children:(0,n.jsx)(v.Z,{wrap:!0,children:me.map(function(a){return(0,n.jsx)(m.ZP,{onClick:function(){return D(a.command)},children:a.label},a.command)})})}),p.length>0&&(0,n.jsx)(b.Z,{size:"small",title:"\u5DF2\u4FDD\u5B58\u7684\u547D\u4EE4",style:{marginTop:"16px"},children:(0,n.jsx)(v.Z,{wrap:!0,children:p.map(function(a){return(0,n.jsxs)(m.ZP.Group,{style:{marginRight:"8px"},children:[(0,n.jsx)(m.ZP,{onClick:function(){D(a.command)},title:a.command,children:a.remark}),(0,n.jsx)(m.ZP,{danger:!0,onClick:function(){return de(a.command)},children:"\u5220\u9664"})]},a.command)})})}),(0,n.jsx)(Q,{type:"secondary",children:"\u63D0\u793A\uFF1A\u8F93\u5165AT\u6307\u4EE4\u540E\u6309\u56DE\u8F66\u952E\u6216\u70B9\u51FB\u53D1\u9001\u6309\u94AE\u6267\u884C\u3002\u4F7F\u7528\u6E05\u7A7A\u6309\u94AE\u53EF\u4EE5\u6E05\u9664\u5386\u53F2\u8BB0\u5F55\u3002"})]}),(0,n.jsx)(J.Z,{title:"\u4FDD\u5B58AT\u547D\u4EE4",open:ue,onOk:_e,onCancel:function(){return j(!1)},children:(0,n.jsxs)(v.Z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[(0,n.jsx)(E.Z,{value:y,placeholder:"AT\u547D\u4EE4",readOnly:!0}),(0,n.jsx)(E.Z,{value:I,onChange:function(u){return w(u.target.value)},placeholder:"\u8BF7\u8F93\u5165\u547D\u4EE4\u5907\u6CE8"})]})})]})};f.default=V}}]);
