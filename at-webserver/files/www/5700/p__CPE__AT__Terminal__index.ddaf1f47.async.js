"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[233],{27496:function(z,f,e){e.d(f,{Z:function(){return r}});var C=e(1413),g=e(67294),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},c=A,P=e(91146),D=function(T,E){return g.createElement(P.Z,(0,C.Z)((0,C.Z)({},T),{},{ref:E,icon:c}))},O=g.forwardRef(D),r=O},7464:function(z,f,e){e.r(f);var C=e(19632),g=e.n(C),A=e(15009),c=e.n(A),P=e(99289),D=e.n(P),O=e(5574),r=e.n(O),B=e(59955),T=e(27496),E=e(60801),N=e(78301),d=e(2453),b=e(36039),v=e(78957),m=e(77683),J=e(33900),l=e(67294),n=e(85893),V=E.Z.TextArea,$=N.Z.Text,H=function(){var Q=(0,l.useState)(""),R=r()(Q,2),i=R[0],h=R[1],X=(0,l.useState)(""),U=r()(X,2),Y=U[0],M=U[1],q=(0,l.useState)(!1),x=r()(q,2),ee=x[0],L=x[1],ne=(0,l.useState)([]),W=r()(ne,2),p=W[0],S=W[1],ae=(0,l.useState)(!1),K=r()(ae,2),te=K[0],j=K[1],ue=(0,l.useState)(""),F=r()(ue,2),y=F[0],se=F[1],re=(0,l.useState)(""),w=r()(re,2),Z=w[0],k=w[1],I=B.S.getInstance();(0,l.useEffect)(function(){var a=function(){var t=D()(c()().mark(function u(){var _;return c()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,I.connect();case 2:_=localStorage.getItem("savedAtCommands"),_&&S(JSON.parse(_));case 4:case"end":return o.stop()}},u)}));return function(){return t.apply(this,arguments)}}();return a(),function(){I.disconnect()}},[]);var G=function(){var a=D()(c()().mark(function t(){var u;return c()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(i.trim()){s.next=3;break}return d.ZP.warning("\u8BF7\u8F93\u5165AT\u6307\u4EE4"),s.abrupt("return");case 3:return s.prev=3,L(!0),s.next=7,I.sendCommand(i);case 7:u=s.sent,u.success?M(function(o){return"".concat(o,`
> `).concat(i,`
`).concat(u.data||"")}):M(function(o){return"".concat(o,`
> `).concat(i,`
Error: `).concat(u.error||"\u672A\u77E5\u9519\u8BEF")}),h(""),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(3),d.ZP.error("\u53D1\u9001\u6307\u4EE4\u5931\u8D25");case 15:return s.prev=15,L(!1),s.finish(15);case 18:case"end":return s.stop()}},t,null,[[3,12,15,18]])}));return function(){return a.apply(this,arguments)}}(),le=function(){M("")},_e=function(){if(!i.trim()){d.ZP.warning("\u8BF7\u8F93\u5165\u8981\u4FDD\u5B58\u7684AT\u6307\u4EE4");return}se(i),k(""),j(!0)},oe=function(){if(!Z.trim()){d.ZP.warning("\u8BF7\u8F93\u5165\u547D\u4EE4\u5907\u6CE8");return}var t={command:y,remark:Z},u=g()(p);u.some(function(_){return _.command===y})?d.ZP.warning("\u8BE5\u547D\u4EE4\u5DF2\u5B58\u5728"):(u.push(t),S(u),localStorage.setItem("savedAtCommands",JSON.stringify(u)),d.ZP.success("\u547D\u4EE4\u5DF2\u4FDD\u5B58")),j(!1)},de=function(t){var u=p.filter(function(_){return _.command!==t});S(u),localStorage.setItem("savedAtCommands",JSON.stringify(u)),d.ZP.success("\u547D\u4EE4\u5DF2\u5220\u9664")},me=[{label:"\u67E5\u8BE2\u4FE1\u53F7\u5F3A\u5EA6",command:"AT^HCSQ?"},{label:"\u67E5\u8BE2IMEI",command:"AT+CGSN"},{label:"\u67E5\u8BE2\u7248\u672C",command:"ATI"},{label:"\u67E5\u8BE2SIM\u5361\u72B6\u6001",command:"AT+CPIN?"},{label:"\u67E5\u8BE2\u7F51\u7EDC\u6CE8\u518C",command:"AT+CREG?"},{label:"\u67E5\u8BE2\u57FA\u7AD9\u4FE1\u606F",command:"AT+CGREG?"},{label:"\u67E5\u8BE2\u7F51\u7EDC\u65F6\u95F4",command:"AT^NWTIME?"}];return(0,n.jsxs)(b.Z,{title:"AT\u8C03\u8BD5\u7EC8\u7AEF",children:[(0,n.jsxs)(v.Z,{direction:"vertical",style:{width:"100%"},size:"large",children:[(0,n.jsx)(V,{value:Y,style:{height:"300px",marginBottom:"16px",backgroundColor:"#f5f5f5"},readOnly:!0}),(0,n.jsxs)(v.Z.Compact,{style:{width:"100%"},children:[(0,n.jsx)(E.Z,{value:i,onChange:function(t){return h(t.target.value)},onPressEnter:G,placeholder:"\u8F93\u5165AT\u6307\u4EE4",style:{flex:1}}),(0,n.jsx)(m.ZP,{type:"primary",onClick:G,loading:ee,icon:(0,n.jsx)(T.Z,{}),children:"\u53D1\u9001"}),(0,n.jsx)(m.ZP,{onClick:le,children:"\u6E05\u7A7A"}),(0,n.jsx)(m.ZP,{onClick:_e,children:"\u4FDD\u5B58\u547D\u4EE4"})]}),(0,n.jsx)(b.Z,{size:"small",title:"\u5E38\u7528\u547D\u4EE4",style:{marginTop:"16px"},children:(0,n.jsx)(v.Z,{wrap:!0,children:me.map(function(a){return(0,n.jsx)(m.ZP,{onClick:function(){return h(a.command)},children:a.label},a.command)})})}),p.length>0&&(0,n.jsx)(b.Z,{size:"small",title:"\u5DF2\u4FDD\u5B58\u7684\u547D\u4EE4",style:{marginTop:"16px"},children:(0,n.jsx)(v.Z,{wrap:!0,children:p.map(function(a){return(0,n.jsxs)(m.ZP.Group,{style:{marginRight:"8px"},children:[(0,n.jsx)(m.ZP,{onClick:function(){h(a.command)},title:a.command,children:a.remark}),(0,n.jsx)(m.ZP,{danger:!0,onClick:function(){return de(a.command)},children:"\u5220\u9664"})]},a.command)})})}),(0,n.jsx)($,{type:"secondary",children:"\u63D0\u793A\uFF1A\u8F93\u5165AT\u6307\u4EE4\u540E\u6309\u56DE\u8F66\u952E\u6216\u70B9\u51FB\u53D1\u9001\u6309\u94AE\u6267\u884C\u3002\u4F7F\u7528\u6E05\u7A7A\u6309\u94AE\u53EF\u4EE5\u6E05\u9664\u5386\u53F2\u8BB0\u5F55\u3002"})]}),(0,n.jsx)(J.Z,{title:"\u4FDD\u5B58AT\u547D\u4EE4",open:te,onOk:oe,onCancel:function(){return j(!1)},children:(0,n.jsxs)(v.Z,{direction:"vertical",style:{width:"100%"},size:"middle",children:[(0,n.jsx)(E.Z,{value:y,placeholder:"AT\u547D\u4EE4",readOnly:!0}),(0,n.jsx)(E.Z,{value:Z,onChange:function(t){return k(t.target.value)},placeholder:"\u8BF7\u8F93\u5165\u547D\u4EE4\u5907\u6CE8"})]})})]})};f.default=H}}]);
